<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <title>{% block title %}ContentFlow{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{% static 'css/posts.css' %}">
    <link rel="stylesheet" href="{% static 'css/modal.css' %}">
    {% block extra_head %}{% endblock %}
</head>
<body>

<header>
    <h1>ContentFlow</h1>
    <nav>
        {% if user.is_authenticated %}
        <a href="{% url 'post-list' %}">Feed</a>
        <a href="{% url 'users:profile' user.username %}">Profile</a>
        <a href="{% url 'logout' %}">Logout</a>
        {% else %}
        <a href="{% url 'login' %}">Login</a>
        <a href="{% url 'users:register' %}">Register</a>
        {% endif %}
    </nav>
</header>

<main>
    {% if messages %}
    <ul class="messages">
        {% for message in messages %}
        <li class="{{ message.tags }}">{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}

    {% block content %}
    {% endblock %}
</main>

<footer>
    <p>&copy; 2025 ContentFlow. All rights reserved.</p>
</footer>

<div class="modal micromodal-slide" id="image-modal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
            <main class="modal__content" id="modal-content">
                <button class="modal__close" aria-label="Close modal" data-micromodal-close>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                         stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
                <button id="prev-image" class="modal__nav modal__nav--prev" aria-label="Previous image">‹</button>
                <button id="next-image" class="modal__nav modal__nav--next" aria-label="Next image">›</button>
                <img id="modal-image" class="modal__image" src="" alt="Full-size image">
                <div id="image-counter" class="modal__counter"></div>
                <div id="image-caption" class="modal__caption"></div>
            </main>
        </div>
    </div>
</div>

<script src="https://unpkg.com/micromodal/dist/micromodal.min.js"></script>
{% block extra_js %}{% endblock %}
</body>
</html>
